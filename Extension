#!/bin/bash
# ==================================================
# ğŸ¨ PTERODACTYL THEME & TOOLS MANAGER
# Clean UI â€¢ Emoji Styled â€¢ Blueprint Based
# ==================================================

# ---------------- COLORS ----------------
RED="\e[1;31m"
GREEN="\e[1;32m"
YELLOW="\e[1;33m"
CYAN="\e[1;36m"
MAGENTA="\e[1;35m"
GRAY="\e[1;90m"
RESET="\e[0m"

line() {
    echo -e "${MAGENTA}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${RESET}"
}

pause() {
    sleep 2
}

# ===== UNINSTALL SUB-MENU =====
uninstall_menu() {
    while true; do
        clear
        line
        echo -e "${CYAN}ğŸ—‘ï¸  UNINSTALL MENU${RESET}"
        echo -e "${GRAY}Remove installed themes & tools safely${RESET}"
        line
        echo -e "${YELLOW}1)${RESET} ğŸ§¹ Remove Nebula Theme"
        echo -e "${YELLOW}2)${RESET} ğŸ§¹ Remove Euphoria Theme"
        echo -e "${YELLOW}3)${RESET} ğŸ§¹ Remove Add-Tool Package"
        echo -e "${YELLOW}0)${RESET} â¬… Back"
        line
        read -p "â¤ Select option: " uopt

        case "$uopt" in
            1)
                echo -e "${RED}ğŸ§¹ Removing Nebulaâ€¦${RESET}"
                cd /var/www/pterodactyl || { echo -e "${RED}âŒ Panel path not found!${RESET}"; pause; continue; }
                blueprint -r nebula
                echo -e "${GREEN}âœ… Nebula removed successfully${RESET}"
                pause
            ;;
            2)
                echo -e "${RED}ğŸ§¹ Removing Euphoriaâ€¦${RESET}"
                cd /var/www/pterodactyl || { echo -e "${RED}âŒ Panel path not found!${RESET}"; pause; continue; }
                blueprint -r euphoriatheme
                echo -e "${GREEN}âœ… Euphoria removed successfully${RESET}"
                pause
            ;;
            3)
                echo -e "${RED}ğŸ§¹ Removing Add-Tool packageâ€¦${RESET}"
                cd /var/www/pterodactyl || { echo -e "${RED}âŒ Panel path not found!${RESET}"; pause; continue; }
                blueprint -r versionchanger
                blueprint -r mcplugins
                blueprint -r sagaminecraftplayermanager
                echo -e "${GREEN}âœ… Add-Tool package removed${RESET}"
                pause
            ;;
            0)
                break
            ;;
            *)
                echo -e "${RED}âŒ Invalid option. Try again.${RESET}"
                sleep 1
            ;;
        esac
    done
}

# ===== MAIN MENU =====
while true; do
    clear
    line
    echo -e "${CYAN}ğŸ¨ THEME & TOOLS MANAGER${RESET}"
    echo -e "${GRAY}Powered by Blueprint â€¢ Maintained by Para${RESET}"
    line
    echo -e "${YELLOW}1)${RESET} ğŸŒŒ Nebula Theme ${CYAN}(Auto Install)${RESET}"
    echo -e "${YELLOW}2)${RESET} ğŸŒˆ Euphoria Theme ${CYAN}(Auto Install)${RESET}"
    echo -e "${YELLOW}3)${RESET} ğŸ—‘ï¸ Uninstall Menu"
    echo -e "${YELLOW}4)${RESET} ğŸ§© Add-Tool Package ${CYAN}(Auto Install)${RESET}"
    echo -e "${YELLOW}0)${RESET} ğŸšª Exit"
    line
    read -p "â¤ Select option: " opt

    case "$opt" in

        # ===== NEBULA INSTALL =====
        1)
            echo -e "${GREEN}ğŸŒŒ Installing Nebula Themeâ€¦${RESET}"
            cd /var/www/pterodactyl || { echo -e "${RED}âŒ Panel path not found!${RESET}"; pause; continue; }

            wget -q https://github.com/ParaNoob123/Blueprint/raw/refs/heads/main/nebula.blueprint
            yes "" | blueprint -i nebula
            rm -f nebula.blueprint

            echo -e "${GREEN}ğŸš€ Nebula installed successfully!${RESET}"
            pause
        ;;

        # ===== EUPHORIA INSTALL =====
        2)
            echo -e "${GREEN}ğŸŒˆ Installing Euphoria Themeâ€¦${RESET}"
            cd /var/www/pterodactyl || { echo -e "${RED}âŒ Panel path not found!${RESET}"; pause; continue; }

            wget -q https://github.com/ParaNoob123/Blueprint/raw/refs/heads/main/europietheme.blueprint
            blueprint -i euphoriatheme
            rm -f euphoriatheme.blueprint

            echo -e "${GREEN}âœ¨ Euphoria installed successfully!${RESET}"
            pause
        ;;

        # ===== UNINSTALL =====
        3)
            uninstall_menu
        ;;

        # ===== ADD TOOL INSTALL =====
        4)
            echo -e "${GREEN}ğŸ§© Installing Add-Tool packageâ€¦${RESET}"
            cd /var/www/pterodactyl || { echo -e "${RED}âŒ Panel path not found!${RESET}"; pause; continue; }

            wget -q https://github.com/ParaNoob123/Blueprint/raw/refs/heads/main/versionchanger.blueprint
            wget -q https://github.com/ParaNoob123/Blueprint/raw/refs/heads/main/mcplugins.blueprint
            wget -q https://github.com/ParaNoob123/Blueprint/raw/refs/heads/main/minecraftplayermanager.blueprint

            blueprint -i versionchanger
            blueprint -i mcplugins
            blueprint -i minecraftplayermanager

            rm -f *.blueprint

            echo -e "${GREEN}ğŸ› ï¸ Add-Tool package installed successfully!${RESET}"
            pause
        ;;

        # ===== EXIT =====
        0)
            line
            echo -e "${CYAN}ğŸ‘‹ Goodbye, legend.${RESET}"
            echo -e "${GRAY}Credits: Para${RESET}"
            line
            exit 0
        ;;

        *)
            echo -e "${RED}âŒ Invalid option. Try again.${RESET}"
            sleep 1
        ;;
    esac
done
